# ============================================================
# KUASATURBO PHASE 1α - ENVIRONMENT CONFIGURATION
# ============================================================
# Copy this file to .env and fill in the values
# DO NOT commit .env to version control
# ============================================================

# ------------------------------------------------------------
# CORE SETTINGS
# ------------------------------------------------------------

# Environment mode: development | staging | production
NODE_ENV=development

# Service port
PORT=3001

# Log level: debug | info | warn | error
LOG_LEVEL=debug

# ------------------------------------------------------------
# AI MODEL CONFIGURATION
# ------------------------------------------------------------

# Anthropic API Key (required for Claude models)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Default model for z4 execution
# Recommended: claude-3-haiku-20240307 for cost efficiency
# Alternative: claude-3-sonnet-20240229 for quality
DEFAULT_MODEL=claude-3-haiku-20240307

# Maximum tokens for input processing
MAX_INPUT_TOKENS=100000

# Maximum tokens for output generation
MAX_OUTPUT_TOKENS=4096

# ------------------------------------------------------------
# GOVERNANCE SETTINGS (PHASE 1α)
# ------------------------------------------------------------

# TTL for job outputs in seconds (24 hours = 86400)
# Per PHASE_1_ALPHA_EXECUTION_TIMELINE v1.2
OUTPUT_TTL_SECONDS=86400

# Maximum execution time per job in seconds
JOB_TIMEOUT_SECONDS=120

# Enable dry-run mode by default (true/false)
DRY_RUN_DEFAULT=false

# CIVOS classification for z4 jobs
Z4_CIVOS_CLASS=Z

# ------------------------------------------------------------
# S7 INVARIANT SETTINGS
# ------------------------------------------------------------

# Enable S7 no-continuity enforcement (MUST be true)
S7_ENFORCEMENT_ENABLED=true

# Maximum retry count for same job
MAX_RETRY_COUNT=3

# Block any job that references previous job output
BLOCK_JOB_CHAINING=true

# ------------------------------------------------------------
# STORAGE SETTINGS (Phase 1α: In-Memory)
# ------------------------------------------------------------

# Storage mode: memory | sqlite | postgres
# Phase 1α: Use 'memory' (no persistence across restart)
STORAGE_MODE=memory

# Job retention in memory (number of jobs)
MAX_JOBS_IN_MEMORY=100

# ------------------------------------------------------------
# FILE PATHS
# ------------------------------------------------------------

# Input files directory (inside container)
INPUT_DIR=/app/inputs

# Output files directory (inside container)
OUTPUT_DIR=/app/outputs

# Proof pack directory (inside container)
PROOF_DIR=/app/proof

# Temporary processing directory
TEMP_DIR=/app/temp

# ------------------------------------------------------------
# HASHING SETTINGS
# ------------------------------------------------------------

# Hash algorithm for input/output integrity
HASH_ALGORITHM=sha256

# ------------------------------------------------------------
# CURRENCY SETTINGS (for token cost display)
# ------------------------------------------------------------

# USD to MYR exchange rate
USD_TO_MYR_RATE=4.65

# ------------------------------------------------------------
# DEMO SETTINGS
# ------------------------------------------------------------

# Demo mode (limits certain features)
DEMO_MODE=true

# Demo watermark on outputs
DEMO_WATERMARK=true

# ------------------------------------------------------------
# MONITORING (Optional)
# ------------------------------------------------------------

# Enable metrics collection
METRICS_ENABLED=false

# Metrics endpoint (if enabled)
METRICS_ENDPOINT=http://localhost:9090
